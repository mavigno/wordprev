<html>

<head>
<title>Monkey Writer</title>
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
<!-- Optional: Include the jQuery library -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<!-- Optional: Incorporate the Bootstrap JavaScript plugins -->
<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
<script src="shared/jquery.js" type="text/javascript"></script>
<script src="shared/shiny.js" type="text/javascript"></script>
<link rel="stylesheet" type="text/css" href="shared/shiny.css"/> 
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
textarea {
    display: block;
    width: 100%;
    padding:2%;
    -webkit-box-sizing: border-box;
       -moz-box-sizing: border-box;
            box-sizing: border-box;
}
</style>
<script>

$( document ).ready(function() {
        document.getElementById("textentry").focus();
});

function detectspecialkeys(e){
    var evtobj=window.event? event : e
    if ( evtobj.keyCode == 49 && evtobj.ctrlKey) getValue('word1');
    if ( evtobj.keyCode == 50 && evtobj.ctrlKey) getValue('word2');
    if ( evtobj.keyCode == 51 && evtobj.ctrlKey) getValue('word3');
}
document.onkeypress=detectspecialkeys

function getValue(id)
  {
  var x=document.getElementById(id);
  sentence = document.getElementById('textentry').value;
  sentence = sentence.concat(" ",x.innerHTML)
  document.getElementById('textentry').value = sentence;
  document.getElementById("textentry").focus();
  document.getElementById('textentry').selectionStart = sentence.length
  }
function clearText()
{
        document.getElementById('textentry'). value = "";
        document.getElementById("textentry").focus();
        document.getElementById('textentry').selectionStart = 0;
}
function babble() 
{
        var x=document.getElementById(id);
        sentence = document.getElementById('textentry').value;
        sentence = sentence.concat(" ",x.innerHTML)
        document.getElementById('textentry').value = sentence;
        document.getElementById("textentry").focus();
        document.getElementById('textentry').selectionStart = sentence.length
}



</script>
</head>
<body>
<div class="container-fluid">
<div class="page-header">
        <h1>Monkey Writer</h1>        
</div>
<div class="col-sm-4" background="gray">
<div class="hero-unit">
                <p>"Monkey Writer" is a Shiny application made to show the 
                work done in the Coursera Data Science Capstone Project</p>
                <p>The application try to predict the next word in the 
                phrase writed by the user. It gives 3 alternatives based 
                in the last 4 words entered in the textbox.
                The predicted alternatives will appear above the textbox, and
                the user can choose which one she want's by pressing the control 
                keys indicated above then.<br>
                <kbd>Ctrl-1</kbd> is for the word with the greatest probability,<br>
                <kbd>Ctrl-2</kbd> for the word with the probability below the one
                before, and so on.<br>
                <p>The buttons below the textbox are helpers.<br>
                <kbd>Clear</kbd> will erase the textbox and put the application in the 
                initial state.<br>
                <kbd>Babble</kbd> will generate pharases based on the words present in the
                textbox, with some parameters:<br>
                <ul>
                        <li><b># of words</b> specify how many words are generated with the input.</li>
                        <li><b>Random</b> specify how this words are generated. If <b>TRUE</b> it will get 1 word between the first 3 with greatest probability. If <b>FALSE</b> the choice will be always the word with the gratest probability.</li>
                </ul><br>
                One can think of <kbd>Babble</kbd> with the options <b># of words=1</b> and <b>random=FALSE</b> as a <b>Submit</b> button. Where only one word is generate for the text in the textbox.
                </p>
                <p>Enjoy! And if you want to send me any comments/complains/suggestions
                just send a e-mail at <a href="mailto:ricardo@mavigno.com">Ricardo Mavigno</a>.
                </p>
</div>
</div>
<div class="col-sm-8">
        <div class="row">
        
        </div>
        <div class="row">
                <div class="col-sm-3"></div>
                <div class="col-sm-2">
                        <div class="row">
                                <kbd>Ctrl-2</kbd>
                                <pre onclick="getValue('word2')" id="word2" class="shiny-text-output"></pre>
                        </div>
                </div>
                <div class="col-sm-2">
                        <div class="row">
                                <kbd>Ctrl-1</kbd>
                                <pre onclick="getValue('word1')" id="word1" class="shiny-text-output"></pre>
                        </div>
                </div>
                <div class="col-sm-2">
                        <div class="row">
                                <kbd>Ctrl-3</kbd>
                                <pre onclick="getValue('word3')" id="word3" class="shiny-text-output"></pre>
                        </div>
                </div>
                <div class="col-sm-3"></div>
        </div>
        <div class="row">
                <center><p>Input phrase/word in the textbox below.</p></center>
        </div>
        <div class="row">
                <div class="col-sm-2"></div>
                <div class="col-sm-8"><textarea id="textentry" rows="10"></textarea></div>
                <div class="col-sm-2"></div>
        </div>
        <div class="row"><br></div>
        <div class="row">
                <div class="col-sm-2"></div>
                <div class="col-sm-2">
                        <div class="row">
                                <button id="cleartext" onClick="clearText()" type="button" class="btn action-button">Clear</button>
                        </div>
                </div>
                <div class="col-sm-2">
                        <div class="row">
                                <button id="babbletext" onClick="babble()" type="button" class="btn action-button">Babble</button> 
                        </div>
                </div>
                <div class="col-sm-3">
                        <div class="row">
                                <label for="numwords"># of words:</label>
<input id="numwords" type="number" value="1" min="1" max="100"/>  
                        </div>
                        
                </div>
                <div class="col-sm-3">
                        <div class="row">
                                <label for="random">Random:</label>
                                <select id="random">
                                <option value=1>TRUE</option>
                                <option value=0 selected>FALSE</option>
                                </select>
                                <script type="application/json" data-for="random" data-nonempty="">{}</script> 
                        </div>
                </div>
        </div>
</div>
</body>
</html>
